create view eaadmin.software(manufacturer_id,software_category_id,software_id,software_name,priority,level,type,change_justification,comments,remote_user,record_time,status,vendor_managed,product_role)
as (  select
         p.manufacturer_id ,
         pi.software_category_id ,
         p.id ,
         si.name ,
         pi.priority ,
         case when pi.licensable = 1 then 'LICENSABLE' else 'UN-LICENSABLE' end ,
         case when pi.software_category_id = 1051 then 'O' else 'A' end ,
         'SWKBT' ,
         'SWKBT' ,
         'SWKBT' ,
         kb.modification_time ,
         case when kb.deleted != 1 then 'ACTIVE' else 'INACTIVE' end ,
         case when upper(kb.custom_2) = 'TRUE' then 1 else 0 end ,
	 case when si.product_role is null then 'SOFTWARE_PRODUCT' else si.product_role end
from eaadmin.kb_definition kb ,eaadmin.software_item si ,eaadmin.product p ,eaadmin.product_info pi
where kb.id = si.id and si.id = p.id and p.id = pi.id )
