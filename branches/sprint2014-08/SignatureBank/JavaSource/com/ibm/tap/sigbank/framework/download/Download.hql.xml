<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

	<query name="signatureDownload">
		<![CDATA[
		select
			sig.fileName,
			sig.fileSize,
			sig.product.name,
			sig.softwareVersion,
			sig.product.productInfo.licensable
		from
			SoftwareSignature sig
		where
			sig.status = 'ACTIVE'
		]]>
	</query>

	<query name="filterDownload">
		<![CDATA[
		select
			f.softwareName,
			f.softwareVersion,
			f.product.name,
			f.mapSoftwareVersion,
			f.product.productInfo.licensable
		from
			SoftwareFilter f
		where
			f.status = 'ACTIVE'
		]]>
	</query>

	<query name="inactiveSignatureDownload">
		<![CDATA[

		from
			SoftwareSignature sig

			join fetch sig.product
			left outer join fetch sig.history

		where
			sig.status = 'INACTIVE'

		]]>
	</query>


</hibernate-mapping>